{% extends "base.html" %}

{% block title %}RansomLook â€” Recent posts{% endblock %}

{% block content %}

<!-- Hero -->
<section class="hero">
  <div class="container">
    <h1>Recent posts</h1>
    <p class="lead"><em>Last 100 posts</em></p>
  </div>
</section>

<!-- Tableau recent -->
<section class="metrics-section">
  <div class="container">
    {% if data and data|length %}
      <div class="table-card">
        <div class="table-scroll">
          <table class="rl-table" aria-label="Recent posts">
            <thead>
              <tr>
                <th style="width:10%">Date</th>
                <th>Title</th>
                <th style="width:16%">Group</th>
              </tr>
            </thead>
            <tbody>
              {% for entry in data %}
                <tr>
                  <td>
                    <time datetime="{{ entry['discovered'] }}">{{ entry['discovered'].split(' ')[0] }}</time>
                  </td>
                  <td>{{ entry['post_title'] }}</td>
                  <td>
                    <a href="/group/{{ entry['group_name'] }}">{{ entry['group_name'] }}</a>
                  </td>
                </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
      </div>
    {% else %}
      <p class="prose" style="color:var(--muted)">No recent items found.</p>
    {% endif %}
  </div>
</section>

{% endblock %}
